<link rel="import" href="/admin/wwwroot/lib/polymer/polymer.html">
<link rel="import" href="/admin/wwwroot/lib/paper-button/paper-button.html">
<link rel="import" href="/admin/wwwroot/lib/paper-fab/paper-fab.html">
<link rel="import" href="/admin/wwwroot/lib/paper-dialog-scrollable/paper-dialog-scrollable.html">
<link rel="import" href="/admin/wwwroot/lib/paper-dialog/paper-dialog.html">
<link rel="import" href="/admin/wwwroot/lib/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="/admin/wwwroot/lib/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="/admin/wwwroot/lib/paper-input/paper-input.html">
<dom-module id="menu-item" menu-item-name="{{menuItemName}}">
    <style include="iron-flex iron-flex-alignment"></style>
    <template>
        <div class="layout horizontal wrap">
            <paper-button toggles raised>{{menuItemName}}</paper-button>
            <paper-fab icon="favorite" mini title="heart" hidden$={{hidden}} on-tap="openDetails"></paper-fab>
            <paper-fab icon="favorite" mini title="heart" hidden$={{hidden}}></paper-fab>
            <paper-fab icon="favorite" mini title="heart" hidden$={{hidden}}></paper-fab>
            <paper-dialog id="detailDialog">
                <paper-dialog-scrollable>
                    <paper-input label="text input" value="{{menuItemName}}"></paper-input>
                    <paper-input label="text input" value="{{nodeProperties.name}}"></paper-input>
                    <paper-input label="text input" value="{{nodeProperties.name}}"></paper-input>
                    <div class="buttons">
                        <paper-button dialog-confirm autofocus>Tap me to close</paper-button>
                    </div>
                </paper-dialog-scrollable>
            </paper-dialog>
        </div>
    </template>
    <script>
        Polymer({
            is: 'menu-item',
            properties: {
                menuItemName: String,
                activateSelection: {
                    type: Boolean,
                    observer: "_activateSelection"
                },
                hidden: {
                    type: Boolean,
                    value: true
                },
                nodeProperties: Object

            },
            listeners: {
                'tap': 'toggle',
            },
            toggle: function (e) {
                this.hidden = !this.hidden;
            },
            openDetails: function (e) {
                Polymer.dom(this.root).querySelector("paper-dialog").open()
            },
            _activateSelection: function (newValue, oldValue) {
                var button = Polymer.dom(this.root).querySelector("paper-button");
                button.active = newValue;
                hidden = oldValue;
            },
        });
    </script>
</dom-module>
